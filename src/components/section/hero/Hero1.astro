---
import Typography from "../../ui/Typography.astro";
import Container from "../../elements/Container.astro";
import Section from "../../elements/Section.astro";
import Button from "../../ui/Button.astro";
import { Image as AstroImage } from "astro:assets";

interface Props {
  sectionId?: string;
  sectionClass?: string;
  containerId?: string;
  containerClass?: string;
  title?: string;
  titleClass?: string;
  description?: string;
  descriptionClass?: string;
  buttonType?: string;
  buttonHref?: string;
  buttonText?: string;
  image?: ImageMetadata;
  imageSrc?: string;
  imageAlt?: string;
}

const {
  sectionId,
  sectionClass = "",
  containerId,
  containerClass = "",
  title = "",
  titleClass = "",
  description = "",
  descriptionClass = "",
  buttonType = "button",
  buttonHref = "#",
  buttonText = "",
  image,
  imageSrc,
  imageAlt = "Imagen ilustrativa",
} = Astro.props;
---

<Section
  id={sectionId}
  class={`bg-gradient-to-br from-secondary-700 via-secondary-800 to-secondary-900 ${sectionClass}`}
>
  <Container id={containerId} class={containerClass}>
    <div
      class="flex flex-col-reverse md:flex-row items-center justify-between gap-12"
    >
      <!-- Left -->
      <div class="md:w-1/2 text-center md:text-left">
        {
          title && (
            <Typography tag="h1" class={`mb-6 text-white ${titleClass}`}>
              {title}
            </Typography>
          )
        }

        {
          description && (
            <Typography class={`mb-8 text-info-200 ${descriptionClass}`}>
              {description}
            </Typography>
          )
        }

        {
          buttonText && (
            <Button type={buttonType} href={buttonHref}>
              {buttonText}
            </Button>
          )
        }
      </div>

      <!-- Right: <Image /> si viene una imagen local -->
      <div class="md:w-1/2">
        {
          image ? (
            <AstroImage
              src={image}
              alt={imageAlt}
              class="w-full rounded-xl shadow-lg"
              loading="lazy"
            />
          ) : (
            imageSrc && (
              <img
                src={imageSrc}
                alt={imageAlt}
                loading="lazy"
                class="w-full rounded-xl shadow-lg"
              />
            )
          )
        }
      </div>
    </div>
  </Container>
</Section>
